@page "/login"
@using MarkBook.Data.Login
@rendermode InteractiveServer
@inject IDialogService iDialogService
@inject NavigationManager navigation
@layout Components.Layout.MainLayout

<PageTitle>Вход</PageTitle>

<div>
	<div class="container h-50 py-10">
		<EditForm Model="@loginModel" OnSubmit="Submit">
			<div class="text-left">
				<p>Для выполнения входа в систему укажите свой логин и пароль</p>
			</div>
			<div>
				<p>Логин
					<InputText @bind-Value="loginModel.Login" class="rounded"></InputText>
				</p>
			</div>
			<div>
				<p>Пароль
				<InputText @bind-Value="loginModel.Password" class="rounded"></InputText> 
				</p>
			</div>

			<DataAnnotationsValidator />
			<ValidationSummary />

			<div>
				<button type="submit" class="btn btn-primary">Войти в систему</button>
			</div>
		</EditForm>
	</div>
</div>

@code {

	private LoginModel loginModel = new LoginModel();

	private void Submit()
	{
		if (loginModel.Login == "admin" && loginModel.Password == "123456")
		{
			navigation.NavigateTo("/admin/grades");
		}
		else if (loginModel.Login == "Teacher23" && loginModel.Password == "1235")
		{
			navigation.NavigateTo("/teacher");
		}
		else if (loginModel.Login == "+79005903425" && loginModel.Password == "3212")
		{
			navigation.NavigateTo("/student");
		}
		else
		{
			if (loginModel.Login != "admin" || loginModel.Login != "Teacher23" || loginModel.Login != "+79005903425") 
			{

			}
			else if (loginModel.Password == "123456" || loginModel.Password == "1235" || loginModel.Password == "3212")
			{
				
			}

		}
	}
}
